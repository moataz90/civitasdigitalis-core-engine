{"version":3,"file":"conversation.js","sourceRoot":"","sources":["../../src/conversation.ts"],"names":[],"mappings":"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"}